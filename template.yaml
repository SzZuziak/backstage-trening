apiVersion: scaffolder.backstage.io/v1beta3
kind: Template
metadata:
  name: pr-test
  title: Test Template with PR
  description: A template that generates changes and opens a pull request using Backstage Scaffolder.
spec:
  type: service
  parameters:
    - name: prTitle
      title: PR Title
      description: Provide a title for the new pull request.
      type: string
      required: true
  steps:
    - id: generate-files
      name: Generate Files
      action: cookiecutter
      input:
        templatePath: ./template-files
    - id: publish
      name: Publish to GitHub and Create PR
      action: publish:github
      input:
        repoUrl: https://github.com/your-org/your-repo
        targetPath: "./"
        commitMessage: "Add test changes via Backstage Scaffolder"
        branchName: "pr-test-branch"
        pullRequestTitle: "${{ parameters.prTitle }}"
        pullRequestDescription: "Automatically generated pull request using Backstage Scaffolder."
